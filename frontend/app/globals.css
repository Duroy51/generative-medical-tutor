  /* =========================================================
    global.css - Thèmes clair / sombre et utilitaires
    ========================================================= */

  /* Tailwind (assure-toi que ton pipeline PostCSS/Next gère cet import) */
  @import "tailwindcss";

  /* ---------------------------
    Variables globales / root
    --------------------------- */
  :root {
    --text-scale: 1;

    /* couleurs utilitaires */
    --success: #16a34a; /* green-600 */
    --warning: #f59e0b; /* amber-500 */
    --error:   #ef4444; /* red-500 */
    --info:    #3b82f6; /* blue-500 */

    /* Rayons / spacings (optionnel) */
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 14px;
  }

  /* ===========================
    Thème clair (classe .light)
    =========================== */
  .light {
    /* Core */
    --primary: #103db9;        /* marque / accent principal */
    --primary-600: #E55A2B;
    --primary-400: #FF8C5F;

    --secondary: #9b9690;      /* secondaire d'accent */
    --background: #FFFFFF;
    --surface: #F8FAFC;        /* léger gris pour surfaces */
    --surface-elevated: #FFFFFF;
    --text: #111827;           /* gray-900 */
    --text-secondary: #6B7280; /* gray-500 */
    --border: #E6E9EE;         /* très léger */

    /* surfaces / variantes */
    --surface-hover: #F1F5F9;
    --surface-active: #EEF2F6;

    /* états interactifs */
    --hover: rgba(0,0,0,0.04);
    --active: rgba(0,0,0,0.06);
    --focus: rgba(255,107,53,0.12);
    --disabled: #E5E7EB;
    --disabled-text: #9CA3AF;

    /* ombres */
    --shadow-sm: 0 1px 2px rgba(16,24,40,0.04);
    --shadow-md: 0 6px 18px rgba(16,24,40,0.08);
    --shadow-lg: 0 12px 30px rgba(16,24,40,0.10);

    /* overlays */
    --overlay: rgba(0,0,0,0.5);
    --overlay-light: rgba(0,0,0,0.3);

    /* inputs / forms */
    --input-bg: #FFFFFF;
    --input-border: #E6E6E6;
    --input-focus: var(--primary);
    --input-disabled: #F3F4F6;

    /* navigation */
    --nav-bg: #FFFFFF;
    --nav-border: #EDF2F7;
    --nav-hover: #F8FAFC;
  }

  /* ===========================
    Thème sombre (classe .dark)
    =========================== */
  .dark {
    /* Core */
    --primary: #FF6B35;        /* conserver accent marque - contraste sur dark */
    --primary-600: #E55A2B;
    --primary-400: #FF8C5F;

    --secondary: #F7931E;
    --background: #0B1220;     /* fond très sombre, proche d'un midnight */
    --surface: #111827;        /* surface principale (near-gray-900) */
    --surface-elevated: #0F1724;
    --text: #E6EEF8;           /* texte principal clair */
    --text-secondary: #A8B3C7;
    --border: #273143;

    /* surfaces / variantes */
    --surface-hover: #172033;
    --surface-active: #1E293B;

    /* états interactifs */
    --hover: rgba(255,255,255,0.04);
    --active: rgba(255,255,255,0.06);
    --focus: rgba(255,107,53,0.18);
    --disabled: #2A2F36;
    --disabled-text: #6B7280;

    /* ombres (plus sobres) */
    --shadow-sm: 0 1px 2px rgba(2,6,23,0.6);
    --shadow-md: 0 8px 20px rgba(2,6,23,0.6);
    --shadow-lg: 0 18px 40px rgba(2,6,23,0.7);

    /* overlays */
    --overlay: rgba(0,0,0,0.7);
    --overlay-light: rgba(0,0,0,0.5);

    /* inputs / forms */
    --input-bg: #0F1724;
    --input-border: #28323C;
    --input-focus: var(--primary);
    --input-disabled: #0B1320;

    /* navigation */
    --nav-bg: #0B1220;
    --nav-border: #1F2A37;
    --nav-hover: #0F1726;
  }

  /* ------------------------------------------------
    Classe utilitaire pour le dashboard (mode plein)
    ------------------------------------------------
    Quand on ajoute `dashboard-mode` sur <body> :
    - cache header/footer globaux
    - permet au main#main d'utiliser toute la largeur
  */
  .dashboard-mode header,
  .dashboard-mode footer {
    display: none !important;
  }

  .dashboard-mode main#main {
    max-width: none !important;
    width: 100% !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* Supprime la marge top appliquée par mt-18 lorsque body a .dashboard-mode */
  body.dashboard-mode {
    margin-top: 0 !important;
    padding-top: 0 !important;
  }

  /* Si tu veux être encore plus précis (annuler le mt-18 sur main) */
  body.dashboard-mode main#main {
    margin-top: 0 !important;
    padding-top: 0 !important;
  }

  /* ---------------------------
    Styles de base accessibles
    --------------------------- */
  html, body, #__next {
    height: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    font-size: calc(16px * var(--text-scale));
    background-color: var(--background);
    color: var(--text);
    transition: background-color 180ms ease, color 180ms ease;
    line-height: 1.45;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  /* liens */
  a {
    color: var(--primary);
    text-decoration: none;
    transition: color 150ms ease;
  }


  /* boutons */
  .btn-primary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    background-color: var(--primary);
    color: #fff;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
    transition: transform 120ms ease, background-color 120ms ease, box-shadow 120ms ease;
  }

  .btn-primary:active { transform: translateY(0); }
  .btn-primary:disabled,
  .btn-primary[disabled] { background-color: var(--disabled); color: var(--disabled-text); cursor: not-allowed; box-shadow: none; }

  /* secondary */
  .btn-secondary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
    background-color: var(--secondary);
    color: #fff;
    border: none;
    padding: 0.45rem 0.9rem;
    border-radius: var(--radius-sm);
    transition: opacity 120ms ease, transform 120ms ease;
  }
  .btn-secondary:hover { opacity: 0.95; transform: translateY(-1px); }
  .btn-secondary:disabled { opacity: 0.6; cursor: not-allowed; }

  /* disabled style utilitaire */
  .btn-disabled {
    background-color: var(--disabled);
    color: var(--disabled-text);
    cursor: not-allowed;
  }

  /* surfaces / cartes */
  .surface {
    background-color: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-md);
    color: var(--text);
    transition: background-color 160ms ease, border-color 160ms ease;
  }
  .surface-elevated {
    background-color: var(--surface-elevated);
    box-shadow: var(--shadow-md);
    border-radius: var(--radius-md);
  }

  /* formulaires / inputs */
  .input {
    width: 100%;
    background-color: var(--input-bg);
    border: 1px solid var(--input-border);
    color: var(--text);
    padding: 0.5rem 0.75rem;
    border-radius: var(--radius-sm);
    transition: box-shadow 160ms ease, border-color 160ms ease, background-color 160ms ease;
  }
  .input:focus {
    outline: none;
    border-color: var(--input-focus);
    box-shadow: 0 0 0 4px var(--focus);
  }
  .input:disabled {
    background-color: var(--input-disabled);
    cursor: not-allowed;
    color: var(--disabled-text);
  }

  /* petites aides typographiques */
  .hint { color: var(--text-secondary); font-size: 0.9rem; }
  .kicker { color: var(--text-secondary); font-weight: 600; text-transform: uppercase; font-size: 0.75rem; letter-spacing: .08em; }

  /* utilitaires d'ombre / overlay */
  .shadow-sm { box-shadow: var(--shadow-sm); }
  .shadow-md { box-shadow: var(--shadow-md); }
  .overlay { background: var(--overlay); }

  /* bordures */
  .border-muted { border-color: var(--border); }

  /* navigation */
  .site-nav {
    background: var(--nav-bg);
    border-bottom: 1px solid var(--nav-border);
  }

  /* helpers responsive (exemples) */
  .w-full { width: 100%; }
  .max-w-none { max-width: none !important; }

  /* petites animations accessibles */
  .fade-in { animation: fadeIn .18s ease both; }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }

  /* ---------------------------
    Accessibilité : focus visible
    --------------------------- */
  :focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 4px var(--focus);
  }

  /* ---------------------------
    Import Leaflet (gardé à la fin)
    --------------------------- */
  @import 'leaflet/dist/leaflet.css';
